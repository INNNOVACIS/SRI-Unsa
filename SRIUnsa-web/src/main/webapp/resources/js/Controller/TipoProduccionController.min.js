
investigacionApp.controller("TipoProduccionController",["$log","$scope","ngToast","TipoProduccionService","SharedService",function(p,n,o,b,e){n.sharedService=e;n.tipoProducciones=[];n.tipoProduccion={};var c=function(q){p.debug("GetTipoProduccion - Success");console.log("Respuesta :: ",q);n.tipoProduccion=q};var j=function(q){p.debug("GetTipoProduccion - Error");console.log("Respuesta :: ",q)};var g=function(q){p.debug("RegistrarTipoProduccion - Success");console.log("Respuesta :: ",q);n.getTipoProduccionByPagina();n.cancel();$("#popNuevoTipoProduccion").modal("toggle")};var i=function(q){p.debug("RegistrarTipoProduccion - Error");console.log("Respuesta :: ",q);n.cancel()};var k=function(q){p.debug("UpdateTipoProduccion - Success");console.log("Respuesta :: ",q);n.getTipoProduccionByPagina();n.cancel();$("#popUpdateTipoProduccion").modal("toggle")};var d=function(q){p.debug("UpdateTipoProduccion - Error");console.log("Respuesta :: ",q);n.cancel()};var m=function(q){p.debug("DeleteTipoProduccion - Success");console.log("Respuesta :: ",q);n.getTipoProduccionByPagina();n.cancel()};var f=function(q){p.debug("DeleteTipoProduccion - Error");console.log("Respuesta :: ",q);n.cancel()};n.getListaTipoProduccion=function(){b.getListaTipoProduccion().then(c,j)};n.registrarTipoProduccion=function(){n.submitted=true;if(n.formRegistroTipoProduccion.$valid){n.tipoProduccion.suserCreacion=n.sharedService.nombreUsuario;n.tipoProduccion.sestado="A";b.registrarTipoProduccion(n.tipoProduccion).then(g,i);l("Registrado!","success")}else{console.log("No se registro Tipo Produccion :: ",n.semestre);l("Error al registrar!","danger")}};n.updateTipoProduccion=function(){n.submitted=true;if(n.formUpdateTipoProduccion.$valid){n.tipoProduccion.suserModificacion=n.sharedService.nombreUsuario;n.tipoProduccion.sestado="A";b.updateTipoProduccion(n.tipoProduccion).then(k,d);l("Actualizado!","success")}else{console.log("No se registro Tipo Produccion :: ",n.semestre);l("Error al actualizar!","danger")}};n.deleteTipoProduccion=function(q){n.tipoProduccion=q;n.tipoProduccion.suserModificacion=n.sharedService.nombreUsuario;b.deleteTipoProduccion(n.tipoProduccion).then(m,f)};n.update=function(q){angular.copy(q,n.tipoProduccion)};n.cancel=function(){n.tipoProduccion={}};var l=function(r,q){o.create({className:q,content:'<span class="alert-link">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+r+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"})};n.rangoPaginas=[5,10,20,100];n.currentPage=1;n.currentRango=n.rangoPaginas[0];n.maxSize=5;n.total=0;n.numPages=function(){return Math.ceil(n.total/n.currentRango)};n.$watch("currentPage + currentRango",function(){n.getTipoProduccionByPagina()});var h=function(q){p.debug("Get paginacionTipoProduccion - Success");console.log("Respuesta :: ",q);n.tipoProducciones=[];n.tipoProducciones=q.lista;n.total=q.total};var a=function(q){p.debug("Get paginacionTipoProduccion - Error");console.log("Respuesta :: ",q)};n.getTipoProduccionByPagina=function(){var q={currentPage:n.currentPage,rango:n.currentRango,total:n.total,filtro:n.buscar};b.getTipoProduccionByPagina(q).then(h,a)};n.clickBuscar=function(){n.getTipoProduccionByPagina()};n.getTipoProduccionByPagina()}]);