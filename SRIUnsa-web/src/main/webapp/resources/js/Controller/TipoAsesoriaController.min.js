
investigacionApp.controller("TipoAsesoriaController",["$log","$scope","ngToast","$location","$rootScope","$filter","TipoAsesoriaService","SharedService",function(o,n,p,c,d,l,j,h){n.sharedService=h;n.asesorias=[];n.asesoria={};var s=function(t){o.debug("Get Asesoria - Success");console.log("Respuesta :: ",t);n.asesoria=t};var b=function(t){o.debug("Get Asesoria - Error");console.log("Respuesta :: ",t)};var e=function(t){o.debug("Registrar Asesoria - Success");console.log("Respuesta :: ",t);n.getTipoAsesoriaByPagina();n.cancel();$("#popNuevoAsesoria").modal("toggle")};var r=function(t){o.debug("Registrar Asesoria - Error");console.log("Respuesta :: ",t);n.cancel()};var a=function(t){o.debug("Update Asesoria - Success");console.log("Respuesta :: ",t);n.getTipoAsesoriaByPagina();n.cancel();$("#popUpdateAsesoria").modal("toggle")};var k=function(t){o.debug("Update Asesoria - Error");console.log("Respuesta :: ",t);n.cancel()};var q=function(t){o.debug("Delete Asesoria - Success");console.log("Respuesta :: ",t);n.getTipoAsesoriaByPagina();n.cancel()};var i=function(t){o.debug("Delete Asesoria - Error");console.log("Respuesta :: ",t);n.cancel()};n.getAsesorias=function(){j.getAsesorias().then(s,b)};n.registrarAsesoria=function(){n.submitted=true;if(n.formRegistroTipoAsesoria.$valid){n.asesoria.suserCreacion=n.sharedService.nombreUsuario;n.asesoria.sestado="A";j.registrarAsesoria(n.asesoria).then(e,r);f("Registrado!","success")}else{console.log("No se registro Tipo Asesoria :: ",n.semestre);f("Error al registrar!","danger")}};n.updateAsesoria=function(){n.submitted=true;if(n.formUpdateTipoAsesoria.$valid){n.asesoria.suserModificacion=n.sharedService.nombreUsuario;n.asesoria.sestado="A";j.updateAsesoria(n.asesoria).then(a,k);f("Actualizado!","success")}else{console.log("No se registro Tipo Asesoria :: ",n.semestre);f("Error al actualizar!","danger")}};n.deleteAsesoria=function(t){n.asesoria=t;n.asesoria.suserModificacion=n.sharedService.nombreUsuario;j.deleteAsesoria(n.asesoria).then(q,i)};n.update=function(t){angular.copy(t,n.asesoria)};n.cancel=function(){n.asesoria={}};var f=function(u,t){p.create({className:t,content:'<span class="alert-link">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+u+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"})};n.rangoPaginas=[5,10,20,100];n.currentPage=1;n.currentRango=n.rangoPaginas[0];n.maxSize=5;n.total=0;n.numPages=function(){return Math.ceil(n.total/n.currentRango)};n.$watch("currentPage + currentRango",function(){n.getTipoAsesoriaByPagina()});var g=function(t){o.debug("getTipoAsesoriaByPagina - Success");console.log("Respuesta :: ",t);n.asesorias=[];n.asesorias=t.lista;n.total=t.total};var m=function(t){o.debug("getTipoAsesoriaByPagina - Error");console.log("Respuesta :: ",t)};n.getTipoAsesoriaByPagina=function(){var t={currentPage:n.currentPage,rango:n.currentRango,total:n.total,filtro:n.buscar};j.getTipoAsesoriaByPagina(t).then(g,m)};n.clickBuscar=function(){n.getPrivilegiosByPagina()};n.getTipoAsesoriaByPagina()}]);