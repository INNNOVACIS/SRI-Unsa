
investigacionApp.controller("TipoInvestigacionController",["$log","$scope","ngToast","$location","$rootScope","$filter","TipoInvestigacionService","SharedService",function(o,n,p,g,h,m,r,k){n.sharedService=k;n.investigaciones=[];n.investigacion={};var c=function(t){o.debug("GetInvestigacion - Success");console.log("Respuesta :: ",t);n.investigacion=t};var q=function(t){o.debug("GetInvestigacion - Error");console.log("Respuesta :: ",t)};var j=function(t){o.debug("Registrar Investigacion - Success");console.log("Respuesta :: ",t);n.getTipoInvestigacionByPagina();$("#popNuevoInvestigacion").modal("toggle");n.cancel()};var a=function(t){o.debug("RegistrarInvestigacion - Error");console.log("Respuesta :: ",t);n.investigacion={}};var b=function(t){o.debug("UpdateInvestigacion - Success");console.log("Respuesta :: ",t);n.getTipoInvestigacionByPagina();$("#popUpdateInvestigacion").modal("toggle");n.cancel()};var e=function(t){o.debug("UpdateInvestigacion - Error");console.log("Respuesta :: ",t);n.cancel()};var l=function(t){o.debug("Delete Investigacion - Success");console.log("Respuesta :: ",t);n.getTipoInvestigacionByPagina();n.cancel()};var s=function(t){o.debug("DeleteInvestigacion - Success");console.log("Respuesta :: ",t);n.cancel()};n.getInvestigaciones=function(){r.getInvestigaciones().then(c,q)};n.registrarInvestigacion=function(){n.submitted=true;if(n.formRegistroTipoInvestigacion.$valid){n.investigacion.suserCreacion=n.sharedService.nombreUsuario;n.investigacion.sestado="A";r.registrarInvestigacion(n.investigacion).then(j,a);i("Registrado!","success")}else{console.log("No se registro Semestre :: ",n.semestre);i("Error al registrar!","danger")}};n.updateInvestigacion=function(){n.submitted=true;if(n.formUpdateTipoInvestigacion.$valid){n.investigacion.suserModificacion=n.sharedService.nombreUsuario;n.investigacion.sestado="A";r.updateInvestigacion(n.investigacion).then(b,e);i("Actualizado!","success")}else{console.log("No se registro el tipo de investigacion :: ",n.semestre);i("Error al actualizar!","danger")}};n.deleteInvestigacion=function(t){n.investigacion=t;r.deleteInvestigacion(n.investigacion).then(l,s)};n.update=function(t){angular.copy(t,n.investigacion)};n.cancel=function(){n.investigacion={}};var i=function(u,t){p.create({className:t,content:'<span class="alert-link">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+u+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"})};n.rangoPaginas=[5,10,20,100];n.currentPage=1;n.currentRango=n.rangoPaginas[0];n.maxSize=5;n.total=0;n.numPages=function(){return Math.ceil(n.total/n.currentRango)};n.$watch("currentPage + currentRango",function(){n.getTipoInvestigacionByPagina()});var f=function(t){o.debug("GetPaginacionInvestigacion - Success");console.log("Respuesta :: ",t);n.investigaciones=[];n.investigaciones=t.lista;n.total=t.total};var d=function(t){o.debug("GetPaginacionInvestigacion - Error");console.log("Respuesta :: ",t)};n.getTipoInvestigacionByPagina=function(){var t={currentPage:n.currentPage,rango:n.currentRango,total:n.total,filtro:n.buscar};r.getTipoInvestigacionByPagina(t).then(f,d)};n.clickBuscar=function(){n.getTipoInvestigacionByPagina()};n.getTipoInvestigacionByPagina()}]);