
investigacionApp.controller("FlujoActorController",["$log","$scope","FlujoActorService","SharedService",function(n,m,f,h){m.sharedService=h;m.actores=[];m.actor={};var j=function(o){n.debug("Get Actores - Success");console.log("Respuesta :: ",o)};var c=function(o){n.debug("Get Actores - Error");console.log("Respuesta :: ",o)};var g=function(o){n.debug("Registrar Actores - Success");console.log("Respuesta :: ",o);m.getActoresByPagina();m.actor={}};var l=function(o){n.debug("Registrar Actores - Error");console.log("Respuesta :: ",o)};var d=function(o){n.debug("Update Actor - Success");console.log("Respuesta :: ",o);m.getActoresByPagina()};var i=function(o){n.debug("Update Actor - Error");console.log("Respuesta :: ",o)};var b=function(o){n.debug("DeleteActor - Success");console.log("Respuesta :: ",o);m.getActoresByPagina()};var a=function(o){n.debug("DeleteActor - Error");console.log("Respuesta :: ",o)};m.getActores=function(){f.getActores().then(j,c)};m.registrarActor=function(){m.actor.suserCreacion=m.sharedService.nombreUsuario;m.actor.sestado="A";f.registrarActor(m.actor).then(g,l)};m.updateActor=function(){m.actor.suserModificacion=m.sharedService.nombreUsuario;m.actor.sestado="A";f.updateActor(m.actor).then(d,i)};m.deleteActor=function(o){m.actor=o;m.actor.suserModificacion=m.sharedService.nombreUsuario;f.deleteRol(m.actor).then(b,a)};m.update=function(o){m.actor=o};m.rangoPaginas=[5,10,20,100];m.currentPage=1;m.currentRango=m.rangoPaginas[0];m.maxSize=5;m.total=0;m.numPages=function(){return Math.ceil(m.total/m.currentRango)};m.$watch("currentPage + currentRango",function(){m.getActoresByPagina()});var e=function(o){n.debug("Get Paginacion Actores - Success");console.log("Respuesta :: ",o);m.actores=[];m.actores=o.lista;m.total=o.total};var k=function(o){n.debug("Get Pagincion Actores - Error");console.log("Respuesta :: ",o)};m.getActoresByPagina=function(){var o={currentPage:m.currentPage,rango:m.currentRango,total:m.total,filtro:m.buscar};f.getActoresByPagina(o).then(e,k)};m.clickBuscar=function(){m.getActoresByPagina()};m.getActoresByPagina()}]);