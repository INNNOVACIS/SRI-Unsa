
investigacionApp.controller("TipoNivelController",["$log","$scope","ngToast","TipoNivelService","SharedService",function(p,n,o,l,d){n.sharedService=d;n.listarTipoNivel=[];n.tipoNivel={};var b=function(q){p.debug("GetTipoNivel - Success");console.log("Respuesta :: ",q);n.tipoNivel=q};var e=function(q){p.debug("GetTipoNivel - Error");console.log("Respuesta :: ",q)};var k=function(q){p.debug("RegistrarTipoNivel - Success");console.log("Respuesta :: ",q);n.getTipoNivelByPagina();n.cancel();$("#popNuevoTipoNivel").modal("toggle")};var a=function(q){p.debug("RegistrarTipoNivel - Error");console.log("Respuesta :: ",q);n.cancel()};var c=function(q){p.debug("UpdateTipoNivel - Success");console.log("Respuesta :: ",q);n.getTipoNivelByPagina();n.cancel();$("#popUpdateTipoNivel").modal("toggle")};var i=function(q){p.debug("UpdateTipoNivel - Error");console.log("Respuesta :: ",q);n.cancel()};var g=function(q){p.debug("DeleteTipoNivel - Success");console.log("Respuesta :: ",q);n.getTipoNivelByPagina();n.cancel()};var j=function(q){p.debug("DeleteTipoNivel - Error");console.log("Respuesta :: ",q);n.cancel()};n.getListaTipoNivel=function(){l.getListaTipoNivel().then(b,e)};n.registrarTipoNivel=function(){n.submitted=true;if(n.formRegistroTipoNivel.$valid){n.tipoNivel.suserCreacion=n.sharedService.nombreUsuario;n.tipoNivel.sestado="A";l.registrarTipoNivel(n.tipoNivel).then(k,a);h("Registrado!","success")}else{console.log("No se registro Semestre :: ",n.semestre);h("Error al registrar!","danger")}};n.updateTipoNivel=function(){n.submitted=true;if(n.formUpdateTipoNivel.$valid){n.tipoNivel.suserModificacion=n.sharedService.nombreUsuario;n.tipoNivel.sestado="A";l.updateTipoNivel(n.tipoNivel).then(c,i);h("Actualizado!","success")}else{console.log("No se registro el tipo Nivel :: ",n.semestre);h("Error al actualizar!","danger")}};n.deleteTipoNivel=function(q){n.tipoNivel=q;n.tipoNivel.suserModificacion=n.sharedService.nombreUsuario;l.deleteTipoNivel(n.tipoNivel).then(g,j)};n.update=function(q){angular.copy(q,n.tipoNivel)};n.cancel=function(){n.tipoNivel={}};var h=function(r,q){o.create({className:q,content:'<span class="alert-link">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+r+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"})};n.rangoPaginas=[5,10,20,100];n.currentPage=1;n.currentRango=n.rangoPaginas[0];n.maxSize=5;n.total=0;n.numPages=function(){return Math.ceil(n.total/n.currentRango)};n.$watch("currentPage + currentRango",function(){n.getTipoNivelByPagina()});var m=function(q){p.debug("Get paginacionUsuario - Success");console.log("Respuesta :: ",q);n.listarTipoNivel=[];n.listarTipoNivel=q.lista;n.total=q.total};var f=function(q){p.debug("Get paginacionUsuario - Error");console.log("Respuesta :: ",q)};n.getTipoNivelByPagina=function(){var q={currentPage:n.currentPage,rango:n.currentRango,total:n.total,filtro:n.buscar};l.getTipoNivelByPagina(q).then(m,f)};n.clickBuscar=function(){n.getTipoNivelByPagina()};n.getTipoNivelByPagina()}]);