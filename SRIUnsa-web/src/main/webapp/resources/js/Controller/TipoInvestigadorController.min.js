
investigacionApp.controller("TipoInvestigadorController",["$log","$scope","ngToast","$location","$rootScope","$filter","TipoInvestigadorService","SharedService",function(q,o,p,e,n,l,a,d){o.tipoInvestigadores=[];o.sharedService=d;var k=function(r){q.debug("Registrar TipoInvestigador - Success");console.log("Respuesta :: ",r);o.getTipoInvestigadorByPagina();o.cancel();$("#popNuevoTipoInvestigador").modal("toggle")};var c=function(r){q.debug("Registrar Tipo Investigador - Error");console.log("Respuesta :: ",r);o.cancel()};var b=function(r){q.debug("Update User - Success");console.log("Respuesta :: ",r);o.getTipoInvestigadorByPagina();o.cancel();$("#popUpdateTipoInvestigador").modal("toggle")};var f=function(r){q.debug("Actualizar Tipo Investigador - Error");console.log("Respuesta :: ",r)};var i=function(r){q.debug("Delete User - Success");console.log("Respuesta :: ",r);o.tipoInvestigador=r};var g=function(r){q.debug("Eliminar Tipo Investigador - Error");console.log("Respuesta :: ",r)};o.registrarTipoInvestigador=function(){o.submitted=true;if(o.formRegistroTipoInvestigador.$valid){var r={snombreTipoInvestigador:o.nombre,sestado:"A",suserCreacion:o.sharedService.nombreUsuario,suserModificacion:o.sharedService.nombreUsuario};a.registrarTipoInvestigador(r).then(k,c);j("Registrado!","success")}else{console.log("No se registro Tipo Investigador :: ",o.semestre);j("Error al registrar!","danger")}};o.updateTipoInvestigador=function(){o.submitted=true;if(o.formUpdateTipoInvestigador.$valid){a.updateTipoInvestigador(o.tipoInvestigador).then(b,f);j("Actualizado!","success")}else{console.log("No se registro Tipo Investigador :: ",o.semestre);j("Error al actualizar!","danger")}};o.deleteTipoInvestigador=function(r){o.tipoInvestigador=r;a.deleteTipoInvestigador(o.tipoInvestigador).then(i,g)};o.update=function(r){o.tipoInvestigador=r};o.cancel=function(){o.tipoInvestigador={}};var j=function(s,r){p.create({className:r,content:'<span class="alert-link">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+s+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"})};o.rangoPaginas=[5,10,20,100];o.currentPage=1;o.currentRango=o.rangoPaginas[0];o.maxSize=5;o.total=0;o.numPages=function(){return Math.ceil(o.total/o.currentRango)};o.$watch("currentPage + currentRango",function(){o.getTipoInvestigadorByPagina()});var m=function(r){q.debug("getTipoInvestigadorByPagina - Success");console.log("Respuesta :: ",r);o.tipoInvestigadores=[];o.tipoInvestigadores=r.lista;o.total=r.total};var h=function(r){q.debug("getTipoInvestigadorByPagina - Error");console.log("Respuesta :: ",r)};o.getTipoInvestigadorByPagina=function(){var r={currentPage:o.currentPage,rango:o.currentRango,total:o.total,filtro:o.buscar};a.getTipoInvestigadorByPagina(r).then(m,h)};o.clickBuscar=function(){o.getTipoInvestigadorByPagina()};o.getTipoInvestigadorByPagina()}]);